from reportlab.lib.pagesizes import A4
from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer
from reportlab.lib.styles import getSampleStyleSheet

# สร้าง PDF สรุป
output_path = "/mnt/data/สรุปบทที่3.pdf"

doc = SimpleDocTemplate(output_path, pagesize=A4)
styles = getSampleStyleSheet()
story = []

# เนื้อหาสรุปจากไฟล์
summary_text = """
📘 สรุป บทที่ 3: กลไกตลาด อุปสงค์ อุปทาน และความยืดหยุ่น

1. อุปสงค์ (Demand)
- อุปสงค์ คือ ปริมาณความต้องการซื้อสินค้าของผู้บริโภคในราคาต่าง ๆ
- กฎของอุปสงค์: เมื่อราคาสินค้าเพิ่มขึ้น ความต้องการซื้อลดลง และในทางกลับกัน

2. ปัจจัยที่ทำให้เกิดการเปลี่ยนแปลงอุปสงค์
- รายได้ผู้บริโภค
- ราคาสินค้าเกี่ยวข้อง (ทดแทน/เสริม)
- รสนิยม ความนิยม
- การโฆษณา กระแสสังคม

3. ค่าความยืดหยุ่น (Elasticity)
- ใช้วัด “ขนาด” การเปลี่ยนแปลงของปริมาณต่อราคาหรือรายได้
- ความยืดหยุ่นต่อราคา (Price Elasticity of Demand)
- ความยืดหยุ่นไขว้ (Cross Elasticity)
- ความยืดหยุ่นต่อรายได้ (Income Elasticity)

ตัวอย่าง: 
- ราคาเพิ่มขึ้น 10% → ความต้องการลดลงกี่ % 
- ความยืดหยุ่นมาก (>1), ความยืดหยุ่นน้อย (<1), ไม่ยืดหยุ่น (=0)

4. อุปทาน (Supply)
- อุปทาน คือ ปริมาณที่ผู้ผลิตต้องการเสนอขายในราคาต่าง ๆ
- กฎของอุปทาน: เมื่อราคาสินค้าเพิ่มขึ้น ผู้ผลิตจะเสนอขายมากขึ้น

5. ปัจจัยที่กำหนดอุปทาน
- ต้นทุนการผลิต
- เทคโนโลยี
- นโยบายภาครัฐ (ภาษี เงินอุดหนุน)
- จำนวนผู้ผลิต
- ภัยธรรมชาติ โรคระบาด

6. ดุลยภาพตลาด (Market Equilibrium)
- เกิดขึ้นเมื่อ อุปสงค์ = อุปทาน → ราคาดุลยภาพ และปริมาณดุลยภาพ

7. การแทรกแซงของรัฐ
- ราคาขั้นสูง (Price Ceiling) → ราคาต่ำกว่าตลาด เช่น ค่าเช่าบ้าน
- ราคาขั้นต่ำ (Price Floor) → ราคาสูงกว่าตลาด เช่น ราคาสินค้าเกษตร
- การอุดหนุน (Subsidy) และการเก็บภาษี

📌 สรุป: กลไกตลาดขึ้นอยู่กับอุปสงค์และอุปทาน ค่าความยืดหยุ่นช่วยวิเคราะห์ผลของการเปลี่ยนแปลงราคา รายได้ และปัจจัยอื่น ๆ ต่อปริมาณสินค้า การเข้าใจกลไกเหล่านี้ช่วยวิเคราะห์ตลาดและนโยบายรัฐได้ดีขึ้น
"""

for line in summary_text.split("\n"):
    story.append(Paragraph(line, styles["Normal"]))
    story.append(Spacer(1, 6))

doc.build(story)
output_path
